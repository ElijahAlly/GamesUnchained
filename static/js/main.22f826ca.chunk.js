(this["webpackJsonpgames-unchained"]=this["webpackJsonpgames-unchained"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(6),s=n.n(a),i=n(12),o=n(5),l=n(2),u=n(13),d=n(14),m=n.n(d),f=n(8),h=n(15),j=n.n(h),p="ADD_FILTER",b="REMOVE_FILTER",g={category:[],platform:[],sortBy:[]},O="SHOW_GAME",x="HIDE_GAME",v="EXPAND_IMAGE",y="COLLAPSE_IMAGE",N=function(e){return{type:v,src:e}},w=function(){return{type:y}},k={img:""},E=Object(l.b)({filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n=Object.assign({},e);switch(t.type){case p:return"category"!==t.where&&(n[t.where]=[]),n[t.where].push(t.filter),n;case b:var r=[];return n[t.where].forEach((function(e){e!==t.filter&&r.push(e)})),n[t.where]=r,n;default:return e}},gameId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.gameId;case x:return"undefined";default:return e}},images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n=Object.assign({},e);switch(t.type){case v:return n.img=t.src,n;case y:return n.img="",n;default:return e}}}),C={key:"root",storage:j.a,whitelist:["entities"]},_=Object(l.b)({entities:E}),I=Object(f.a)(C,_),B=[u.a];B.push(m.a);var S=Object(l.c)(I,l.a.apply(void 0,B)),T=Object(f.b)(S),M=function(){return Object(o.b)()},G=o.c,L=n(4),A=n.n(L),D=n(7),F=n(3),H="0375b53b85msh1880c2c65fc1799p1766aajsn58835e09a56f",P=n(0),R=function(e){var t=e.src,n=M();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("section",{className:"expanded-background",onClick:function(){return n(w())},children:Object(P.jsx)("div",{className:"close-img",onClick:function(){return n(w())},children:"x"})}),Object(P.jsx)("img",{src:t,className:"expanded-img",draggable:!1})]})},z={id:0,title:"",thumbnail:"",description:"",status:"",short_description:"",freetogame_profile_url:"",genre:"",game_url:"",platform:"",publisher:"",release_date:"",developer:"",minimum_system_requirements:{os:"",processor:"",memory:"",graphics:"",storage:""},screenshots:[{id:0,image:""}]},J=function(e){var t=e.gameId,n=Object(r.useState)(z),c=Object(F.a)(n,2),a=c[0],s=c[1],i=M(),o=G((function(e){return"".concat(e.entities.images.img)}));Object(r.useEffect)((function(){(function(){var e=Object(D.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://free-to-play-games-database.p.rapidapi.com/api/game?id=".concat(t),{method:"GET",headers:{"x-rapidapi-key":H,"x-rapidapi-host":"free-to-play-games-database.p.rapidapi.com"}});case 2:return e.next=4,e.sent.json();case 4:n=e.sent,s(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=Object(r.useState)("description"),u=Object(F.a)(l,2),d=u[0],m=u[1];if(!a.id)return null;var f=function(e){var t=document.getElementsByClassName("description")[0],n=document.getElementById("second-ele");switch(e){case"description":return t.innerHTML=a.description,void m("description");case"game-info":return t.innerHTML="Short Descrption: "+a.short_description,n&&(n.innerHTML="Link To Game: "+a.game_url),void m("game-info");case"stats":return t.innerHTML="Developer: "+a.developer,void m("stats");default:return}};return Object(P.jsxs)("section",{className:"game-show",children:[o&&o.length>0?Object(P.jsx)(R,{src:o}):null,Object(P.jsx)("h3",{className:"title",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(a.game_url)},children:a.title}),Object(P.jsxs)("div",{className:"images",children:[Object(P.jsx)("img",{className:"main-img",src:a.thumbnail,draggable:!1,onClick:function(){return i(N(a.thumbnail))}}),a.screenshots.map((function(e){return Object(P.jsx)("img",{className:"main-img",src:"".concat(e.image),draggable:!1,onClick:function(){return i(N(e.image))}},e.id)}))]}),Object(P.jsxs)("ul",{className:"description-headers",children:[Object(P.jsx)("li",{className:"header ".concat("description"==d?"highlight-header":""),onClick:function(){return f("description")},children:"Description"}),Object(P.jsx)("li",{className:"header ".concat("game-info"==d?"highlight-header":""),onClick:function(){return f("game-info")},children:"More Game Info"}),Object(P.jsx)("li",{className:"header ".concat("stats"==d?"highlight-header":""),onClick:function(){return f("stats")},children:"Tech Stats"})]}),Object(P.jsx)("h3",{className:"description",children:a.description})]})},q=function(){var e=G((function(e){return"".concat(e.entities.gameId)})),t="undefined"!==e,n=M();return Object(r.useEffect)((function(){return console.log("")}),[t]),Object(P.jsxs)("section",{className:"navbar ".concat(t?"show-game-background":""),children:[Object(P.jsx)("h3",{className:"music ".concat(t?"show-music":"")}),t&&Object(P.jsx)(J,{gameId:e}),Object(P.jsxs)("div",{className:"nav-footer",children:[Object(P.jsxs)("div",{className:"app-header",children:[Object(P.jsx)("h1",{className:"app-name",children:"Games Unchained"}),Object(P.jsx)("h2",{className:"app-description",children:"Explore 100% FREE games!  |"}),Object(P.jsxs)("h2",{className:"app-src",children:["Powered by ",Object(P.jsx)("a",{href:"https://www.freetogame.com",target:"_blank",children:"FreeToGame"})]})]}),t&&Object(P.jsx)("h3",{className:"close",onClick:function(){return n({type:x})},children:"Close"})]})]})},U=[],V=function(){var e=Object(r.useState)(U),t=Object(F.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(F.a)(a,2),i=s[0],o=s[1],l=M(),u=G((function(e){return e.entities.filters}))||[];return Object(r.useEffect)((function(){console.table(u),o((function(){return function(e){var t=e.category,n=e.platform,r=e.sortBy,c="";return 1===t.length?c+="&category=".concat(t[0]):t.forEach((function(e,t){c+="".concat(0===t?"&tag=":".").concat(e)})),n.forEach((function(e,t){c+="".concat(0===t?"&platform=":".").concat(e)})),r.forEach((function(e,t){c+="".concat(0===t?"&sort-by=":".").concat(e)})),c.length>0?"?".concat(c.slice(1)):""}(u)}))}),[u]),Object(r.useEffect)((function(){console.log("options",i),function(){var e=Object(D.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://free-to-play-games-database.p.rapidapi.com/api/".concat(i.includes("tag")?"filter":"games").concat(i),{method:"GET",headers:{"x-rapidapi-key":H,"x-rapidapi-host":"free-to-play-games-database.p.rapidapi.com"}});case 2:return e.next=4,e.sent.json();case 4:t=e.sent,c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i]),Object(P.jsx)("ul",{className:"games-list",children:n.length>0?Object(P.jsx)(P.Fragment,{children:n.length>0&&n.map((function(e){return Object(P.jsxs)("li",{className:"game-card",onClick:function(){return l((t=e.id,{type:O,gameId:t}));var t},children:[Object(P.jsx)("img",{src:"".concat(e.thumbnail),className:"game-img",draggable:!1}),Object(P.jsx)("h2",{className:"game-title",children:(t=e.title,n=17,t.length>n&&(t=t.slice(0,n-3)+"..."),t)})]},e.id);var t,n}))}):Object(P.jsx)("li",{className:"no-results",children:" No Results. Try removing some filters."})})},W=function(e){var t=e.filters,n=e.filterBy,r=M(),c=G((function(e){return e.entities.filters}))||[],a=function(e,t){c[n].includes(e)?r(function(e,t){return{type:b,where:t,filter:e}}(e,n)):r(function(e,t){return{type:p,where:t,filter:e}}(e,n))};return Object(P.jsx)("ul",{className:"filter-list",children:t.map((function(e,t){return Object(P.jsx)("li",{className:"filters ".concat(c[n].includes(e)?"selected-filter":""),onClick:function(){return a(e)},children:e},t)}))})},X=["mmorpg","shooter","strategy","moba","racing","sports","social","sandbox","open-world","survival","pvp","pve","pixel","voxel","zombie","turn-based","first-person","third-Person","top-down","tank","space","sailing","side-scroller","superhero","permadeath","card","battle-royale","mmo","mmofps","mmotps","3d","2d","anime","fantasy","sci-fi","fighting","action-rpg","action","military","martial-arts","flight","low-spec","tower-defense","horror","mmorts"],K=["release-date","popularity","alphabetical","relevance"],Q=["pc","browser"],Y=function(){var e=Object(r.useState)(!1),t=Object(F.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(F.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(!1),u=Object(F.a)(l,2),d=u[0],m=u[1],f=function(e){switch(e){case"categories":c((function(e){return!e}));break;case"sortBy":o((function(e){return!e}));break;case"platforms":m((function(e){return!e}));break;default:return null}},h=G((function(e){return e.entities.filters}))||[],j=Object.values(h),p=j[0].length,b=j[1].length,g=j[2].length;return Object(P.jsxs)("section",{className:"filter-results",children:[Object(P.jsxs)("h3",{id:"category",onClick:function(){return f("categories")},children:["Category",p>0&&Object(P.jsx)("div",{className:"filter-count",children:"".concat(p)}),Object(P.jsx)("div",{className:"filter-arrow ".concat(n?"open":""),children:"\u2039"})]}),n?Object(P.jsx)(W,{filters:X,filterBy:"category"}):null,Object(P.jsxs)("h3",{id:"sort-by",onClick:function(){return f("sortBy")},children:["Sort By",g>0&&Object(P.jsx)("div",{className:"filter-count",children:"".concat(g)}),Object(P.jsx)("span",{className:"filter-arrow ".concat(i?"open":""),children:"\u2039"})]}),i?Object(P.jsx)(W,{filters:K,filterBy:"sortBy"}):null,Object(P.jsxs)("h3",{id:"platform",onClick:function(){return f("platforms")},children:["Platform",b>0&&Object(P.jsx)("div",{className:"filter-count",children:"".concat(b)}),Object(P.jsx)("span",{className:"filter-arrow ".concat(d?"open":""),children:"\u2039"})]}),d?Object(P.jsx)(W,{filters:Q,filterBy:"platform"}):null]})},Z=(n(29),function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(q,{}),Object(P.jsxs)("section",{className:"show-results",children:[Object(P.jsx)(Y,{}),Object(P.jsx)(V,{})]})]})});s.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(o.a,{store:S,children:Object(P.jsx)(i.a,{persistor:T,children:Object(P.jsx)(Z,{})})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.22f826ca.chunk.js.map